(function(f,e){var g=f.acw,b=g.components,a=f.React,h,k,l;b.ContactItem=a.createClass({displayName:"ContactItem",render:function(){return a.DOM.li({className:"list-group-item"},a.DOM.span(null,this.props.item))}});k=b.ContactItem;b.ContactList=a.createClass({displayName:"ContactList",render:function(){return a.DOM.ul({className:"list-group ContactList"},this.props.list.map(function(a){return k({item:a,key:a})}.bind(this)))}});b.UserAvatar=a.createClass({displayName:"UserAvatar",render:function(){return a.DOM.img({className:"userAvatarThumb",
src:this.props.src?this.props.src:"/img/user-large.png"})}});b.ProgressBar=a.createClass({displayName:"ProgressBar",render:function(){return a.DOM.div({className:"progress"},a.DOM.div({className:"progress-bar",role:"progressbar","aria-valuenow":this.props.progress,"aria-valuemin":"0","aria-valuemax":"100",style:{width:this.props.progress+"%"}},this.props.progress+"%"))}});b.AlertList=a.createClass({displayName:"AlertList",dismissAlert:function(a){a.preventDefault();a.stopPropagation();this.props.dismissAlert&&
this.props.dismissAlert(e(a.currentTarget).data("alert-id"));return!1},render:function(){return a.DOM.div({className:"formAlerts"},_.map(this.props.alerts,function(c,d){var b={alert:!0};b["alert-"+c[0]]=!0;return a.DOM.div({key:d,className:a.addons.classSet(b)},a.DOM.button({"data-alert-id":d,onClick:this.dismissAlert,type:"button",className:"close","aria-hidden":"true"},"\u00d7"),c[1])}.bind(this)))}});l=b.AlertList;b.StdForm=a.createClass({displayName:"StdForm",mixins:[a.addons.LinkedStateMixin],
getInitialState:function(){return{abbr:this.props.item.abbr,name:this.props.item.name,active:this.props.item.active,alerts:{}}},dismissAlert:function(a){var d=this.state.alerts;delete d[a];this.setState({alerts:d})},onCheck:function(a){this.setState({active:a.currentTarget.checked})},handleSubmit:function(a){a.preventDefault();e.post(a.currentTarget.action,e(a.currentTarget).serialize()).done(function(a){var c=_.merge({},this.props.item,{abbr:this.state.abbr,name:this.state.name,active:this.state.active});
c.id=a;this.props.setSelected(c,!0)}.bind(this)).fail(function(a){var c=this.state.alerts;c[g.uniqueId()]=["danger",a.responseText];this.setState({alerts:c})}.bind(this))},componentWillReceiveProps:function(a){this.setState({abbr:a.item.abbr,name:a.item.name,active:a.item.active})},render:function(){return a.DOM.form({action:this.props.action+(null!==this.props.item.id?"/"+this.props.item.id:""),role:"form",onSubmit:this.handleSubmit},a.DOM.div({className:"row"},a.DOM.div({className:"col-md-4 form-group"},
a.DOM.label({htmlFor:"itemAbbr"},"Nome"),a.DOM.input({id:"itemAbbr",name:"abbr",maxLength:15,className:"form-control",type:"text",required:!0,valueLink:this.linkState("abbr")})),a.DOM.div({className:"col-md-8 form-group"},a.DOM.label({htmlFor:"itemName"},"Descri\u00e7\u00e3o/Slogan/Motto"),a.DOM.textarea({id:"itemName",name:"name",rows:3,className:"form-control",maxLength:200,type:"text",required:!0,valueLink:this.linkState("name")}))),l({alerts:this.state.alerts,dismissAlert:this.dismissAlert}),
a.DOM.div({className:"row"},a.DOM.div({className:"col-md-4"},a.DOM.div({className:"checkbox"},a.DOM.label(null,a.DOM.input({name:"active",type:"checkbox",onChange:this.onCheck,checked:this.state.active,value:"on"}),"Ativar "+this.props.iname))),a.DOM.div({className:"col-md-8"},a.DOM.button({className:"btn btn-default",type:"submit"},"Salvar"))))}});b.StdListItem=a.createClass({displayName:"StdListItem",clickItem:function(a){a.preventDefault();if(this.props.setSelected)this.props.setSelected(this.props.item);
else if(this.props.onClick)this.props.onClick(this.props.item)},render:function(){return a.DOM.a({href:"#",className:a.addons.classSet({"list-group-item":!0,stdListItem:!0,active:this.props.selected,"deleted-item":!this.props.item.active}),onClick:this.clickItem},a.DOM.h5({className:"list-group-item-heading"},this.props.item.abbr),a.DOM.p({className:"list-group-item-text"},this.props.item.name))}});h=b.StdListItem;b.StdList=a.createClass({displayName:"StdList",getInitialState:function(){return{items:[]}},
reloadList:function(a){a=void 0===a?this.props.uri:a;if(!a)return this.setState({items:[]});e.get(a).done(function(a){this.setState({items:a})}.bind(this)).fail(function(){this.setState({items:[]})}.bind(this))},componentDidMount:function(){this.reloadList()},componentWillReceiveProps:function(a){this.setState({items:this.state.items.map(function(b){return b.id===a.selected.id?a.selected:b})});a.uri===this.props.uri&&this.props.forceUpdate===a.forceUpdate||this.reloadList(a.uri)},render:function(){var b=
this.props.selected;return a.DOM.div({className:"stdList list-group"},this.state.items.map(function(a){return h({key:a.id,item:a,selected:a.id===b.id,setSelected:this.props.setSelected})}.bind(this)))}})})(window,jQuery);
