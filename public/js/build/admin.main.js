(function(d,e){d.acw=d.acw||{};var g={},b=d.React,l,m,h,k=d.acw;k.uniqueId=function(){return String.fromCharCode(65+Math.floor(26*Math.random())).toLowerCase()+Date.now().toString(36)};m=b.createClass({displayName:"TabContent",render:function(){var a=this.props.tab,f,c=b.addons.classSet({"tab-pane":!0,active:this.props.active});return this.props.tab.active&&!this.props.tab.onLoadGet?(f=g[a.id],b.DOM.div({id:a.id,className:c},f({tab:a}))):b.DOM.div({id:a.id,className:c},"...")}});l=b.createClass({displayName:"Tab",
render:function(){var a=this.props.tab,f=b.addons.classSet({active:this.props.active});return b.DOM.li({className:f},b.DOM.a({href:"#"+a.id,"data-toggle":"tab","data-id":a.id},a.title))}});h=b.createClass({displayName:"AdminTabs",getInitialState:function(){return{tabs:{},user:null,bound:!1}},componentDidMount:function(){e.get(this.props.source).done(function(a){k.user=a.user;var b=["/js/"+d.jsPath+"/admin.shared.js"],c={},n;a.tabs.forEach(function(a,b){a.active=0===b;a.onLoadGet=function(){var a=
this.component,b=a.state.tabs,c=b[this.tab];LazyLoad.js("/js/"+d.jsPath+"/admin."+c.id.toLowerCase()+".js",function(){c.onLoadGet=null;a.setState({tabs:b})})}.bind({component:this,tab:a.id});c[a.id]=a;a.active&&(n=a)}.bind(this));LazyLoad.js(b,function(){this.setState({tabs:c,user:a.user});n.onLoadGet()}.bind(this))}.bind(this))},handleTabChange:function(a){var b=e(a.target).data("id"),c={};_.forEach(this.state.tabs,function(a){a.active=a.id===b;c[a.id]=a});if(c[b].onLoadGet)c[b].onLoadGet();else this.setState({tabs:c})},
componentDidUpdate:function(){var a=this.getDOMNode();this.state.bound||(e(a).find('a[data-toggle="tab"]').on("shown.bs.tab",this.handleTabChange),this.setState({bound:!0}))},render:function(){var a=[],d=[];_.forEach(this.state.tabs,function(b){a.push(l({key:b.id,tab:b,active:b.active}));d.push(m({key:b.id,tab:b,active:b.active}))});return b.DOM.div(null,b.DOM.ul({className:"nav nav-tabs"},a),b.DOM.div({className:"tab-content"},d))}});k.components=g;g.AdminTabs=h;d.onLoadRun=function(){b.renderComponent(h({source:"/admin/tabs"}),
e(".contentWrapper")[0])}})(window,jQuery);
